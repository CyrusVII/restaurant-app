<header
  class="relative w-full h-screen min-h-[600px] max-h-[800px] flex flex-col items-center justify-center overflow-hidden">
  <!-- Background Slider -->
  <div class="header-slider-bg absolute inset-0 w-full h-full z-0 overflow-hidden">
    <div class="slider-track" [style.width.%]="HeaderData.backGroundImg.length * 100"
      [style.transform]="'translateX(-' + (currentBgIndex * (100 / HeaderData.backGroundImg.length)) + '%)'">
      <img *ngFor="let img of HeaderData.backGroundImg" [src]="img" alt="Background" loading="lazy" />
    </div>
    <div class="overlay"></div>
  </div>

  <!-- Navigation Overlay - Originale nell'header -->
  <div class="nav-overlay">
    <div class="nav-container">
      <!-- Navigation Links -->
      <ul class="nav-links">
        <li *ngFor="let item of navbarLinks">
          <a [href]="item.link" [attr.aria-label]="item.label">
            {{ item.label }}
          </a>
        </li>
      </ul>

      <!-- Language Switcher -->
      <div class="language-switcher" [class.open]="isDropdownOpen">
        <button class="language-dropdown-btn" (click)="toggleDropdown(); $event.stopPropagation()"
          [attr.aria-label]="'Seleziona lingua: ' + getCurrentLangName()" [attr.aria-expanded]="isDropdownOpen">
          <img class="flag" [src]="getCurrentFlag()" [alt]="getCurrentLangName()">
          <span class="hidden sm:inline">{{ getCurrentLangName() }}</span>
          <span class="dropdown-arrow">▼</span>
        </button>

        <div class="language-dropdown" role="menu" [attr.aria-hidden]="!isDropdownOpen">
          <button *ngFor="let lang of langs" (click)="switchLang(lang.code); $event.stopPropagation()"
            [class.active]="lang.code === currentLang" role="menuitem"
            [attr.aria-label]="'Cambia lingua a ' + lang.name">
            <img class="flag" [src]="getFlagFromCode(lang.code)" [alt]="lang.name">
            <span class="lang-name">{{ lang.name }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Header Content -->
  <div class="header-content">
    <img [src]="HeaderData.logo" alt="Logo aziendale" class="header-logo" loading="eager" />
    <h1 class="header-subtitle">
      {{ HeaderData.subtitle }}
    </h1>
  </div>

  <!-- Scroll Indicator -->
  <div class="scroll-indicator">
    <span class="scroll-text">Scopri di più</span>
    <div class="scroll-arrow">↓</div>
  </div>
</header>

<!-- Sticky Navigation - Si attiva quando si scrolla -->
<nav class="sticky-nav" [class.active]="isNavSticky">
  <div class="sticky-nav-container">
    <!-- Navigation Links -->
    <ul class="sticky-nav-links">
      <li *ngFor="let item of navbarLinks">
        <a [href]="item.link" [attr.aria-label]="item.label">
          {{ item.label }}
        </a>
      </li>
    </ul>

    <!-- Language Switcher -->
    <div class="language-switcher" [class.open]="isDropdownOpen">
      <button class="language-dropdown-btn" (click)="toggleDropdown(); $event.stopPropagation()"
        [attr.aria-label]="'Seleziona lingua: ' + getCurrentLangName()" [attr.aria-expanded]="isDropdownOpen">
        <img class="flag" [src]="getCurrentFlag()" [alt]="getCurrentLangName()">
        <span class="hidden sm:inline">{{ getCurrentLangName() }}</span>
        <span class="dropdown-arrow">▼</span>
      </button>

      <div class="language-dropdown" role="menu" [attr.aria-hidden]="!isDropdownOpen">
        <button *ngFor="let lang of langs" (click)="switchLang(lang.code); $event.stopPropagation()"
          [class.active]="lang.code === currentLang" role="menuitem" [attr.aria-label]="'Cambia lingua a ' + lang.name">
          <img class="flag" [src]="getFlagFromCode(lang.code)" [alt]="lang.name">
          <span class="lang-name">{{ lang.name }}</span>
        </button>
      </div>
    </div>
  </div>
</nav>